!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["my-library"]=e():t["my-library"]=e()}(self,(()=>(()=>{"use strict";var t={d:(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>a});class a{constructor(t){this.HTMLElement=t.HTMLElement,this.type=t.type??"default",this.date={min:t.date?.min??"1970-01-01",max:t.date?.max??"2470-12-31",today:t.date?.today??new Date},this.settings={lang:t.settings?.lang??"en",iso8601:t.settings?.iso8601??!0,range:{min:t.settings?.range?.min??this.date.min,max:t.settings?.range?.max??this.date.max,disabled:t.settings?.range?.disabled??null},selection:{day:t.settings?.selection?.day??"single",month:t.settings?.selection?.month??!0,year:t.settings?.selection?.year??!0},selected:{dates:t.settings?.selected?.dates??null,month:t.settings?.selected?.month??null,year:t.settings?.selected?.year??null,holidays:t.settings?.selected?.holidays??null},visibility:{weekend:t.settings?.visibility?.weekend??!0,today:t.settings?.visibility?.today??!0,disabled:t.settings?.visibility?.disabled??!1}},this.actions={clickDay:t.actions?.clickDay??null,clickMonth:t.actions?.clickMonth??null,clickYear:t.actions?.clickYear??null},this.name={months:{full:{en:["January","February","March","April","May","June","July","August","September","October","November","December"],ru:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],ro:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],pt:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},reduction:{en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ru:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],ro:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Noi","Dec"],pt:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dec"]}},week:{en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ru:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],ro:["Du","Lu","Ma","Mi","Jo","Vi","Sa"],pt:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},arrow:{prev:{en:"Prev",ru:"Назад",ro:"Anterior",pt:"Anterior"},next:{en:"Next",ru:"Вперед",ro:"Următorul",pt:"Seguinte"}}},this.currentType=this.type}setVariablesDates(){this.selectedDates=[],this.selectedMonth=this.date.today.getMonth(),this.selectedYear=this.date.today.getFullYear(),null!==this.settings.selected.dates&&(this.selectedDates=this.settings.selected.dates),null!==this.settings.selected.month&&this.settings.selected.month>=0&&this.settings.selected.month<12&&(this.selectedMonth=this.settings.selected.month),null!==this.settings.selected.year&&this.settings.selected.year>=0&&this.settings.selected.year<=9999&&(this.selectedYear=this.settings.selected.year),this.viewYear=this.selectedYear,this.dateMin=this.settings.visibility.disabled?new Date(this.date.min):new Date(this.settings.range.min),this.dateMax=this.settings.visibility.disabled?new Date(this.date.max):new Date(this.settings.range.max)}createDOM(){"default"===this.currentType?(this.HTMLElement.classList.add("vanilla-calendar_default"),this.HTMLElement.classList.remove("vanilla-calendar_month"),this.HTMLElement.classList.remove("vanilla-calendar_year"),this.HTMLElement.innerHTML=`\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev">\n\t\t\t\t\t${this.name.arrow.prev[this.settings.lang]??this.name.arrow.prev.en}\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content">\n\t\t\t\t\t<b class="vanilla-calendar-year${this.settings.selection.year?"":" vanilla-calendar-year_disabled"}"></b>\n\t\t\t\t\t<b class="vanilla-calendar-month${this.settings.selection.month?"":" vanilla-calendar-month_disabled"}"></b>\n\t\t\t\t</div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next">\n\t\t\t\t\t${this.name.arrow.next[this.settings.lang]??this.name.arrow.next.en}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-week"></div>\n\t\t\t\t<div class="vanilla-calendar-days"></div>\n\t\t\t</div>\n\t\t`):"month"===this.currentType?(this.HTMLElement.classList.remove("vanilla-calendar_default"),this.HTMLElement.classList.add("vanilla-calendar_month"),this.HTMLElement.classList.remove("vanilla-calendar_year"),this.HTMLElement.innerHTML=`\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev"\n\t\t\t\t\tstyle="visibility: hidden">\n\t\t\t\t\t${this.name.arrow.prev[this.settings.lang]??this.name.arrow.prev.en}\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content">\n\t\t\t\t\t<b class="vanilla-calendar-year vanilla-calendar-year_not-active${this.settings.selection.year?"":" vanilla-calendar-year_disabled"}"></b>\n\t\t\t\t\t<b class="vanilla-calendar-month"></b>\n\t\t\t\t</div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next"\n\t\t\t\t\tstyle="visibility: hidden">\n\t\t\t\t\t${this.name.arrow.next[this.settings.lang]??this.name.arrow.next.en}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-months"></div>\n\t\t\t</div>`):"year"===this.currentType&&(this.HTMLElement.classList.remove("vanilla-calendar_default"),this.HTMLElement.classList.remove("vanilla-calendar_month"),this.HTMLElement.classList.add("vanilla-calendar_year"),this.HTMLElement.innerHTML=`\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev">\n\t\t\t\t\t${this.name.arrow.prev[this.settings.lang]??this.name.arrow.prev.en}\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content">\n\t\t\t\t\t<b class="vanilla-calendar-year"></b>\n\t\t\t\t\t<b class="vanilla-calendar-month vanilla-calendar-month_not-active${this.settings.selection.month?"":" vanilla-calendar-month_disabled"}"></b>\n\t\t\t\t</div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next">\n\t\t\t\t\t${this.name.arrow.next[this.settings.lang]??this.name.arrow.next.en}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-years"></div>\n\t\t\t</div>`)}controlArrows(){if(!["default","year"].includes(this.currentType))return;const t=this.HTMLElement.querySelector(".vanilla-calendar-arrow_prev"),e=this.HTMLElement.querySelector(".vanilla-calendar-arrow_next");(()=>{if("default"!==this.currentType)return;const a=this.selectedMonth===this.dateMin.getMonth(),s=this.selectedMonth===this.dateMax.getMonth(),n=this.selectedYear===this.dateMin.getFullYear(),i=this.selectedYear===this.dateMax.getFullYear();a&&n||!this.settings.selection.month?t.style.visibility="hidden":t.style.visibility=null,s&&i||!this.settings.selection.month?e.style.visibility="hidden":e.style.visibility=null})(),(()=>{"year"===this.currentType&&(this.dateMin.getFullYear()&&this.viewYear-7<=this.dateMin.getFullYear()?t.style.visibility="hidden":t.style.visibility=null,this.dateMax.getFullYear()&&this.viewYear+7>=this.dateMax.getFullYear()?e.style.visibility="hidden":e.style.visibility=null)})()}writeYear(){this.HTMLElement.querySelector(".vanilla-calendar-year").innerText=this.selectedYear}writeMonth(){this.HTMLElement.querySelector(".vanilla-calendar-month").innerText=this.name.months.full[this.settings.lang][this.selectedMonth]}createWeek(){const t=this.HTMLElement.querySelector(".vanilla-calendar-week"),e=[...this.name.week[this.settings.lang]];e.push(e.shift());for(let a=0;a<e.length;a++){const s=e[a],n=document.createElement("span");n.className="vanilla-calendar-week__day",this.settings.visibility.weekend&&this.settings.iso8601?5!==a&&6!==a||n.classList.add("vanilla-calendar-week__day_weekend"):this.settings.visibility.weekend&&!this.settings.iso8601&&(0!==a&&6!==a||n.classList.add("vanilla-calendar-week__day_weekend")),n.innerText=`${s}`,t.append(n)}}createDays(){const t=new Date(this.selectedYear,this.selectedMonth,1),e=new Date(this.selectedYear,this.selectedMonth+1,0).getDate();let a=Number(t.getDay());this.settings.iso8601&&(a=Number((0!==t.getDay()?t.getDay():7)-1));const s=this.HTMLElement.querySelector(".vanilla-calendar-days");["single","multiple"].includes(this.settings.selection.day)&&s.classList.add("vanilla-calendar-days_selecting"),s.innerHTML="";(()=>{let t=new Date(this.selectedYear,this.selectedMonth,0).getDate()-a,e=this.selectedYear,n=this.selectedMonth;0===this.selectedMonth?(n=this.name.months.full[this.settings.lang].length,e=this.selectedYear-1):this.selectedMonth<10&&(n=`0${this.selectedMonth}`);for(let i=0;i<a;i++){const a=document.createElement("span");t+=1,a.className="vanilla-calendar-day vanilla-calendar-day_prev",a.innerText=`${t}`,a.dataset.calendarDay=`${e}-${n}-${t}`,s.append(a)}})(),(()=>{const t=this.selectedYear,a=this.selectedMonth<9?`0${this.selectedMonth+1}`:this.selectedMonth+1;for(let n=1;n<=e;n++){const e=document.createElement("span"),i=`${t}-${a}-${n<10?`0${n}`:n}`,l=new Date(i).getDay();e.className="vanilla-calendar-day",e.innerText=`${n}`,e.dataset.calendarDay=i,!this.settings.visibility.weekend||0!==l&&6!==l||e.classList.add("vanilla-calendar-day_weekend"),Array.isArray(this.settings.selected.holidays)&&this.settings.selected.holidays.forEach((t=>{t===i&&e.classList.add("vanilla-calendar-day_holiday")}));const r=n===this.date.today.getDate(),d=this.selectedMonth===this.date.today.getMonth(),c=this.selectedYear===this.date.today.getFullYear();this.settings.visibility.today&&r&&d&&c&&e.classList.add("vanilla-calendar-day_today"),this.selectedDates.find((t=>t===i))&&e.classList.add("vanilla-calendar-day_selected"),(this.settings.range.min>i||this.settings.range.max<i)&&e.classList.add("vanilla-calendar-day_disabled"),Array.isArray(this.settings.range.disabled)&&this.settings.range.disabled.forEach((t=>{t===i&&e.classList.add("vanilla-calendar-day_disabled")})),s.append(e)}})(),(()=>{const t=a+e,n=Math.ceil(t/this.name.week[this.settings.lang].length),i=this.name.week[this.settings.lang].length*n-t;let l=this.selectedYear,r=this.selectedMonth+2;this.selectedMonth+1===this.name.months.full[this.settings.lang].length?(r="01",l=this.selectedYear+1):this.selectedMonth+2<10&&(r=`0${this.selectedMonth+2}`);for(let t=1;t<=i;t++){const e=document.createElement("span"),a=t<10?`0${t}`:t;e.className="vanilla-calendar-day vanilla-calendar-day_next",e.innerText=`${t}`,e.dataset.calendarDay=`${l}-${r}-${a}`,s.append(e)}})()}changeMonth(t){const e=this.name.months.full[this.settings.lang].length-1;t.closest(".vanilla-calendar-arrow_prev")?0!==this.selectedMonth?this.selectedMonth-=1:this.settings.selection.year&&(this.selectedYear-=1,this.selectedMonth=e):t.closest(".vanilla-calendar-arrow_next")&&(this.selectedMonth!==e?this.selectedMonth+=1:this.settings.selection.year&&(this.selectedYear+=1,this.selectedMonth=0)),this.settings.selected.month=this.selectedMonth,this.controlArrows(),this.writeYear(),this.writeMonth(),this.createDays()}createYears(){this.currentType="year",this.createDOM(),this.controlArrows(),this.writeYear(),this.writeMonth();const t=this.HTMLElement.querySelector(".vanilla-calendar-years");this.settings.selection.year&&t.classList.add("vanilla-calendar-years_selecting");for(let e=this.viewYear-7;e<this.viewYear+8;e++){const a=e,s=document.createElement("span");s.className="vanilla-calendar-years__year",a===this.selectedYear&&s.classList.add("vanilla-calendar-years__year_selected"),a<this.dateMin.getFullYear()&&s.classList.add("vanilla-calendar-years__year_disabled"),a>this.dateMax.getFullYear()&&s.classList.add("vanilla-calendar-years__year_disabled"),s.dataset.calendarYear=a,s.innerText=`${a}`,t.append(s)}}createMonths(){this.currentType="month",this.createDOM(),this.writeYear(),this.writeMonth();const t=this.HTMLElement.querySelector(".vanilla-calendar-months");this.settings.selection.month&&t.classList.add("vanilla-calendar-months_selecting");const e=this.name.months.reduction[this.settings.lang];for(let a=0;a<e.length;a++){const s=e[a],n=document.createElement("span");n.className="vanilla-calendar-months__month",a===this.selectedMonth&&n.classList.add("vanilla-calendar-months__month_selected"),a<this.dateMin.getMonth()&&this.selectedYear===this.dateMin.getFullYear()&&n.classList.add("vanilla-calendar-months__month_disabled"),a>this.dateMax.getMonth()&&this.selectedYear===this.dateMax.getFullYear()&&n.classList.add("vanilla-calendar-months__month_disabled"),n.dataset.calendarMonth=a,n.innerText=`${s}`,t.append(n)}}update(){this.setVariablesDates(),this.createDOM(),this.controlArrows(),this.writeYear(),this.writeMonth(),"default"===this.currentType?(this.createWeek(),this.createDays()):"month"===this.currentType?this.createMonths():"year"===this.currentType&&this.createYears()}click(){this.HTMLElement.addEventListener("click",(t=>{const e=t.target.closest(".vanilla-calendar-arrow"),a=t.target.closest(".vanilla-calendar-arrow_prev"),s=t.target.closest(".vanilla-calendar-arrow_next"),n=t.target.closest(".vanilla-calendar-day"),i=t.target.closest(".vanilla-calendar-day_prev"),l=t.target.closest(".vanilla-calendar-day_next"),r=t.target.closest(".vanilla-calendar-year"),d=t.target.closest(".vanilla-calendar-years__year"),c=t.target.closest(".vanilla-calendar-month"),h=t.target.closest(".vanilla-calendar-months__month");(()=>{["single","multiple"].includes(this.settings.selection.day)&&n?i||l||(this.actions.clickDay&&this.actions.clickDay(t),n.classList.contains("vanilla-calendar-day_selected")?this.selectedDates.splice(this.selectedDates.indexOf(n.dataset.calendarDay),1):("single"===this.settings.selection.day&&(this.selectedDates=[]),this.selectedDates.push(n.dataset.calendarDay)),this.createDays()):e&&"year"!==this.currentType&&"month"!==this.currentType&&this.changeMonth(t.target)})(),(()=>{if(this.settings.selection.year)if(e&&"year"===this.currentType)s?this.viewYear+=15:a&&(this.viewYear-=15),this.createYears();else if("year"!==this.currentType&&r)this.createYears();else if("year"===this.currentType&&r)this.currentType=this.type,this.update();else if(d){this.actions.clickYear&&this.actions.clickYear(t);const e=Number(d.dataset.calendarYear);this.currentType=this.type,this.selectedMonth<this.dateMin.getMonth()&&e===this.dateMin.getFullYear()&&(this.settings.selected.month=this.dateMin.getMonth()),this.selectedMonth>this.dateMax.getMonth()&&e===this.dateMax.getFullYear()&&(this.settings.selected.month=this.dateMax.getMonth()),this.settings.selected.year=e,this.update()}})(),(()=>{if(this.settings.selection.month)if("month"!==this.currentType&&c)this.createMonths();else if("month"===this.currentType&&c)this.currentType=this.type,this.update();else if(h){this.actions.clickMonth&&this.actions.clickMonth(t);const e=Number(h.dataset.calendarMonth);this.currentType=this.type,this.settings.selected.month=e,this.update()}})()}))}init(){this.update(),this.click()}}return window.VanillaCalendar=a,e})()));
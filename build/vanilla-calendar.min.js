!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["my-library"]=t():e["my-library"]=t()}(self,(()=>(()=>{"use strict";var e={d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.r(t),e.d(t,{default:()=>n});var n=function(){function e(t){var a,n,l,i,s,r,d,c,o,h,v,u,y,g,m,M,p,b,f,w,_,T,Y,L,k,x,D,E,H,F,S,O,N,A,j,q,P,J,V,W,C,z,B,G,I,K,Q,R,U,X,Z,$,ee,te,ae,ne;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.HTMLElement=t.HTMLElement,this.type=null!==(a=t.type)&&void 0!==a?a:"default",this.date={min:null!==(n=null===(l=t.date)||void 0===l?void 0:l.min)&&void 0!==n?n:"1970-01-01",max:null!==(i=null===(s=t.date)||void 0===s?void 0:s.max)&&void 0!==i?i:"2470-12-31",today:null!==(r=null===(d=t.date)||void 0===d?void 0:d.today)&&void 0!==r?r:new Date},this.settings={lang:null!==(c=null===(o=t.settings)||void 0===o?void 0:o.lang)&&void 0!==c?c:"en",iso8601:null===(h=null===(v=t.settings)||void 0===v?void 0:v.iso8601)||void 0===h||h,range:{min:null!==(u=null===(y=t.settings)||void 0===y||null===(g=y.range)||void 0===g?void 0:g.min)&&void 0!==u?u:this.date.min,max:null!==(m=null===(M=t.settings)||void 0===M||null===(p=M.range)||void 0===p?void 0:p.max)&&void 0!==m?m:this.date.max,disabled:null!==(b=null===(f=t.settings)||void 0===f||null===(w=f.range)||void 0===w?void 0:w.disabled)&&void 0!==b?b:null},selection:{day:null!==(_=null===(T=t.settings)||void 0===T||null===(Y=T.selection)||void 0===Y?void 0:Y.day)&&void 0!==_?_:"single",month:null===(L=null===(k=t.settings)||void 0===k||null===(x=k.selection)||void 0===x?void 0:x.month)||void 0===L||L,year:null===(D=null===(E=t.settings)||void 0===E||null===(H=E.selection)||void 0===H?void 0:H.year)||void 0===D||D},selected:{dates:null!==(F=null===(S=t.settings)||void 0===S||null===(O=S.selected)||void 0===O?void 0:O.dates)&&void 0!==F?F:null,month:null!==(N=null===(A=t.settings)||void 0===A||null===(j=A.selected)||void 0===j?void 0:j.month)&&void 0!==N?N:null,year:null!==(q=null===(P=t.settings)||void 0===P||null===(J=P.selected)||void 0===J?void 0:J.year)&&void 0!==q?q:null,holidays:null!==(V=null===(W=t.settings)||void 0===W||null===(C=W.selected)||void 0===C?void 0:C.holidays)&&void 0!==V?V:null},visibility:{weekend:null===(z=null===(B=t.settings)||void 0===B||null===(G=B.visibility)||void 0===G?void 0:G.weekend)||void 0===z||z,today:null===(I=null===(K=t.settings)||void 0===K||null===(Q=K.visibility)||void 0===Q?void 0:Q.today)||void 0===I||I,disabled:null!==(R=null===(U=t.settings)||void 0===U||null===(X=U.visibility)||void 0===X?void 0:X.disabled)&&void 0!==R&&R}},this.actions={clickDay:null!==(Z=null===($=t.actions)||void 0===$?void 0:$.clickDay)&&void 0!==Z?Z:null,clickMonth:null!==(ee=null===(te=t.actions)||void 0===te?void 0:te.clickMonth)&&void 0!==ee?ee:null,clickYear:null!==(ae=null===(ne=t.actions)||void 0===ne?void 0:ne.clickYear)&&void 0!==ae?ae:null},this.name={months:{full:{en:["January","February","March","April","May","June","July","August","September","October","November","December"],ru:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]},reduction:{en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ru:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"]}},week:{en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ru:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},arrow:{prev:{en:"Prev",ru:"Назад"},next:{en:"Next",ru:"Вперед"}}},this.currentType=this.type}var t,n,l;return t=e,(n=[{key:"setVariablesDates",value:function(){this.selectedDates=[],this.selectedMonth=this.date.today.getMonth(),this.selectedYear=this.date.today.getFullYear(),null!==this.settings.selected.dates&&(this.selectedDates=this.settings.selected.dates),null!==this.settings.selected.month&&this.settings.selected.month>=0&&this.settings.selected.month<12&&(this.selectedMonth=this.settings.selected.month),null!==this.settings.selected.year&&this.settings.selected.year>=0&&this.settings.selected.year<=9999&&(this.selectedYear=this.settings.selected.year),this.viewYear=this.selectedYear,this.dateMin=this.settings.visibility.disabled?new Date(this.date.min):new Date(this.settings.range.min),this.dateMax=this.settings.visibility.disabled?new Date(this.date.max):new Date(this.settings.range.max)}},{key:"createDOM",value:function(){var e,t;if("default"===this.currentType)this.HTMLElement.classList.add("vanilla-calendar_default"),this.HTMLElement.classList.remove("vanilla-calendar_month"),this.HTMLElement.classList.remove("vanilla-calendar_year"),this.HTMLElement.innerHTML='\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev">\n\t\t\t\t\t'.concat(null!==(e=this.name.arrow.prev[this.settings.lang])&&void 0!==e?e:this.name.arrow.prev.en,'\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content">\n\t\t\t\t\t<b class="vanilla-calendar-month').concat(this.settings.selection.month?"":" vanilla-calendar-month_disabled",'"></b>\n\t\t\t\t\t<b class="vanilla-calendar-year').concat(this.settings.selection.year?"":" vanilla-calendar-year_disabled",'"></b>\n\t\t\t\t</div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next">\n\t\t\t\t\t').concat(null!==(t=this.name.arrow.next[this.settings.lang])&&void 0!==t?t:this.name.arrow.next.en,'\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-week"></div>\n\t\t\t\t<div class="vanilla-calendar-days"></div>\n\t\t\t</div>\n\t\t');else if("month"===this.currentType){var a,n;this.HTMLElement.classList.remove("vanilla-calendar_default"),this.HTMLElement.classList.add("vanilla-calendar_month"),this.HTMLElement.classList.remove("vanilla-calendar_year"),this.HTMLElement.innerHTML='\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev"\n\t\t\t\t\tstyle="visibility: hidden">\n\t\t\t\t\t'.concat(null!==(a=this.name.arrow.prev[this.settings.lang])&&void 0!==a?a:this.name.arrow.prev.en,'\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content">\n\t\t\t\t\t<b class="vanilla-calendar-month"></b>\n\t\t\t\t\t<b class="vanilla-calendar-year vanilla-calendar-year_not-active').concat(this.settings.selection.year?"":" vanilla-calendar-year_disabled",'"></b>\n\t\t\t\t</div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next"\n\t\t\t\t\tstyle="visibility: hidden">\n\t\t\t\t\t').concat(null!==(n=this.name.arrow.next[this.settings.lang])&&void 0!==n?n:this.name.arrow.next.en,'\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-months"></div>\n\t\t\t</div>')}else if("year"===this.currentType){var l,i;this.HTMLElement.classList.remove("vanilla-calendar_default"),this.HTMLElement.classList.remove("vanilla-calendar_month"),this.HTMLElement.classList.add("vanilla-calendar_year"),this.HTMLElement.innerHTML='\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev">\n\t\t\t\t\t'.concat(null!==(l=this.name.arrow.prev[this.settings.lang])&&void 0!==l?l:this.name.arrow.prev.en,'\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content">\n\t\t\t\t\t<b class="vanilla-calendar-month vanilla-calendar-month_not-active').concat(this.settings.selection.month?"":" vanilla-calendar-month_disabled",'"></b>\n\t\t\t\t\t<b class="vanilla-calendar-year"></b>\n\t\t\t\t</div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next">\n\t\t\t\t\t').concat(null!==(i=this.name.arrow.next[this.settings.lang])&&void 0!==i?i:this.name.arrow.next.en,'\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-years"></div>\n\t\t\t</div>')}}},{key:"controlArrows",value:function(){var e=this;if(["default","year"].includes(this.currentType)){var t=this.HTMLElement.querySelector(".vanilla-calendar-arrow_prev"),a=this.HTMLElement.querySelector(".vanilla-calendar-arrow_next");!function(){if("default"===e.currentType){var n=e.selectedMonth===e.dateMin.getMonth(),l=e.selectedMonth===e.dateMax.getMonth(),i=e.selectedYear===e.dateMin.getFullYear(),s=e.selectedYear===e.dateMax.getFullYear();n&&i||!e.settings.selection.month?t.style.visibility="hidden":t.style.visibility=null,l&&s||!e.settings.selection.month?a.style.visibility="hidden":a.style.visibility=null}}(),"year"===e.currentType&&(e.dateMin.getFullYear()&&e.viewYear-7<=e.dateMin.getFullYear()?t.style.visibility="hidden":t.style.visibility=null,e.dateMax.getFullYear()&&e.viewYear+7>=e.dateMax.getFullYear()?a.style.visibility="hidden":a.style.visibility=null)}}},{key:"writeYear",value:function(){this.HTMLElement.querySelector(".vanilla-calendar-year").innerText=this.selectedYear}},{key:"writeMonth",value:function(){this.HTMLElement.querySelector(".vanilla-calendar-month").innerText=this.name.months.full[this.settings.lang][this.selectedMonth]}},{key:"createWeek",value:function(){var e=this.HTMLElement.querySelector(".vanilla-calendar-week"),t=this.name.week[this.settings.lang];t.push(t.shift());for(var a=0;a<t.length;a++){var n=t[a],l=document.createElement("span");l.className="vanilla-calendar-week__day",this.settings.visibility.weekend&&this.settings.iso8601?5!==a&&6!==a||l.classList.add("vanilla-calendar-week__day_weekend"):this.settings.visibility.weekend&&!this.settings.iso8601&&(0!==a&&6!==a||l.classList.add("vanilla-calendar-week__day_weekend")),l.innerText="".concat(n),e.append(l)}}},{key:"createDays",value:function(){var e=this,t=new Date(this.selectedYear,this.selectedMonth,1),a=new Date(this.selectedYear,this.selectedMonth+1,0).getDate(),n=Number(t.getDay());this.settings.iso8601&&(n=Number((0!==t.getDay()?t.getDay():7)-1));var l=this.HTMLElement.querySelector(".vanilla-calendar-days");["single","multiple"].includes(this.settings.selection.day)&&l.classList.add("vanilla-calendar-days_selecting"),l.innerHTML="",function(){var t=new Date(e.selectedYear,e.selectedMonth,0).getDate()-n,a=e.selectedYear,i=e.selectedMonth;0===e.selectedMonth?(i=e.name.months.full[e.settings.lang].length,a=e.selectedYear-1):e.selectedMonth<10&&(i="0".concat(e.selectedMonth));for(var s=0;s<n;s++){var r=document.createElement("span");t+=1,r.className="vanilla-calendar-day vanilla-calendar-day_prev",r.innerText="".concat(t),r.dataset.calendarDay="".concat(a,"-").concat(i,"-").concat(t),l.append(r)}}(),function(){for(var t=e.selectedYear,n=e.selectedMonth<9?"0".concat(e.selectedMonth+1):e.selectedMonth+1,i=function(a){var i=document.createElement("span"),s=a<10?"0".concat(a):a,r="".concat(t,"-").concat(n,"-").concat(s),d=new Date(r).getDay();i.className="vanilla-calendar-day",i.innerText="".concat(a),i.dataset.calendarDay=r,!e.settings.visibility.weekend||0!==d&&6!==d||i.classList.add("vanilla-calendar-day_weekend"),Array.isArray(e.settings.selected.holidays)&&e.settings.selected.holidays.forEach((function(e){e===r&&i.classList.add("vanilla-calendar-day_holiday")}));var c=a===e.date.today.getDate(),o=e.selectedMonth===e.date.today.getMonth(),h=e.selectedYear===e.date.today.getFullYear();e.settings.visibility.today&&c&&o&&h&&i.classList.add("vanilla-calendar-day_today"),e.selectedDates.find((function(e){return e===r}))&&i.classList.add("vanilla-calendar-day_selected"),(e.settings.range.min>r||e.settings.range.max<r)&&i.classList.add("vanilla-calendar-day_disabled"),Array.isArray(e.settings.range.disabled)&&e.settings.range.disabled.forEach((function(e){e===r&&i.classList.add("vanilla-calendar-day_disabled")})),l.append(i)},s=1;s<=a;s++)i(s)}(),function(){var t=n+a,i=Math.ceil(t/e.name.week[e.settings.lang].length),s=e.name.week[e.settings.lang].length*i-t,r=e.selectedYear,d=e.selectedMonth+2;e.selectedMonth+1===e.name.months.full[e.settings.lang].length?(d="01",r=e.selectedYear+1):e.selectedMonth+2<10&&(d="0".concat(e.selectedMonth+2));for(var c=1;c<=s;c++){var o=document.createElement("span"),h=c<10?"0".concat(c):c;o.className="vanilla-calendar-day vanilla-calendar-day_next",o.innerText="".concat(c),o.dataset.calendarDay="".concat(r,"-").concat(d,"-").concat(h),l.append(o)}}()}},{key:"changeMonth",value:function(e){var t=this.name.months.full[this.settings.lang].length-1;e.closest(".vanilla-calendar-arrow_prev")?0!==this.selectedMonth?this.selectedMonth-=1:this.settings.selection.year&&(this.selectedYear-=1,this.selectedMonth=t):e.closest(".vanilla-calendar-arrow_next")&&(this.selectedMonth!==t?this.selectedMonth+=1:this.settings.selection.year&&(this.selectedYear+=1,this.selectedMonth=0)),this.settings.selected.month=this.selectedMonth,this.controlArrows(),this.writeYear(),this.writeMonth(),this.createDays()}},{key:"createYears",value:function(){this.currentType="year",this.createDOM(),this.controlArrows(),this.writeYear(),this.writeMonth();var e=this.HTMLElement.querySelector(".vanilla-calendar-years");this.settings.selection.year&&e.classList.add("vanilla-calendar-years_selecting");for(var t=this.viewYear-7;t<this.viewYear+8;t++){var a=t,n=document.createElement("span");n.className="vanilla-calendar-years__year",a===this.selectedYear&&n.classList.add("vanilla-calendar-years__year_selected"),a<this.dateMin.getFullYear()&&n.classList.add("vanilla-calendar-years__year_disabled"),a>this.dateMax.getFullYear()&&n.classList.add("vanilla-calendar-years__year_disabled"),n.dataset.calendarYear=a,n.innerText="".concat(a),e.append(n)}}},{key:"createMonths",value:function(){this.currentType="month",this.createDOM(),this.writeYear(),this.writeMonth();var e=this.HTMLElement.querySelector(".vanilla-calendar-months");this.settings.selection.month&&e.classList.add("vanilla-calendar-months_selecting");for(var t=this.name.months.reduction[this.settings.lang],a=0;a<t.length;a++){var n=t[a],l=document.createElement("span");l.className="vanilla-calendar-months__month",a===this.selectedMonth&&l.classList.add("vanilla-calendar-months__month_selected"),a<this.dateMin.getMonth()&&this.selectedYear===this.dateMin.getFullYear()&&l.classList.add("vanilla-calendar-months__month_disabled"),a>this.dateMax.getMonth()&&this.selectedYear===this.dateMax.getFullYear()&&l.classList.add("vanilla-calendar-months__month_disabled"),l.dataset.calendarMonth=a,l.innerText="".concat(n),e.append(l)}}},{key:"update",value:function(){this.setVariablesDates(),this.createDOM(),this.controlArrows(),this.writeYear(),this.writeMonth(),"default"===this.currentType?(this.createWeek(),this.createDays()):"month"===this.currentType?this.createMonths():"year"===this.currentType&&this.createYears()}},{key:"click",value:function(){var e=this;this.HTMLElement.addEventListener("click",(function(t){var a=t.target.closest(".vanilla-calendar-arrow"),n=t.target.closest(".vanilla-calendar-arrow_prev"),l=t.target.closest(".vanilla-calendar-arrow_next"),i=t.target.closest(".vanilla-calendar-day"),s=t.target.closest(".vanilla-calendar-day_prev"),r=t.target.closest(".vanilla-calendar-day_next"),d=t.target.closest(".vanilla-calendar-year"),c=t.target.closest(".vanilla-calendar-years__year"),o=t.target.closest(".vanilla-calendar-month"),h=t.target.closest(".vanilla-calendar-months__month");["single","multiple"].includes(e.settings.selection.day)&&i?s||r||(e.actions.clickDay&&e.actions.clickDay(t),i.classList.contains("vanilla-calendar-day_selected")?e.selectedDates.splice(e.selectedDates.indexOf(i.dataset.calendarDay),1):("single"===e.settings.selection.day&&(e.selectedDates=[]),e.selectedDates.push(i.dataset.calendarDay)),e.createDays()):a&&"year"!==e.currentType&&"month"!==e.currentType&&e.changeMonth(t.target),function(){if(e.settings.selection.year)if(a&&"year"===e.currentType)l?e.viewYear+=15:n&&(e.viewYear-=15),e.createYears();else if("year"!==e.currentType&&d)e.createYears();else if("year"===e.currentType&&d)e.currentType=e.type,e.update();else if(c){e.actions.clickYear&&e.actions.clickYear(t);var i=Number(c.dataset.calendarYear);e.currentType=e.type,e.selectedMonth<e.dateMin.getMonth()&&i===e.dateMin.getFullYear()&&(e.settings.selected.month=e.dateMin.getMonth()),e.selectedMonth>e.dateMax.getMonth()&&i===e.dateMax.getFullYear()&&(e.settings.selected.month=e.dateMax.getMonth()),e.settings.selected.year=i,e.update()}}(),function(){if(e.settings.selection.month)if("month"!==e.currentType&&o)e.createMonths();else if("month"===e.currentType&&o)e.currentType=e.type,e.update();else if(h){e.actions.clickMonth&&e.actions.clickMonth(t);var a=Number(h.dataset.calendarMonth);e.currentType=e.type,e.settings.selected.month=a,e.update()}}()}))}},{key:"init",value:function(){this.update(),this.click()}}])&&a(t.prototype,n),l&&a(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}();return window.VanillaCalendar=n,t})()));
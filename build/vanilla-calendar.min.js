(()=>{"use strict";var t={};function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.d=(e,a)=>{for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})},t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var a=function(){function t(e){var a,n,l,i,s,r,d,c,o,h,v,u,y,g,m,M,p,b,w,_,f,T,Y,L,k,x,D,E,H,F,N,A,O,S,q,J,P,j,V,W,C,z,B,G,I,K,Q,R,U,X,Z,$,tt,et,at,nt;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.HTMLElement=e.HTMLElement,this.type=null!==(a=e.type)&&void 0!==a?a:"default",this.date={min:null!==(n=null===(l=e.date)||void 0===l?void 0:l.min)&&void 0!==n?n:"1970-01-01",max:null!==(i=null===(s=e.date)||void 0===s?void 0:s.max)&&void 0!==i?i:"2470-12-31",today:null!==(r=null===(d=e.date)||void 0===d?void 0:d.today)&&void 0!==r?r:new Date},this.settings={lang:null!==(c=null===(o=e.settings)||void 0===o?void 0:o.lang)&&void 0!==c?c:"en",iso8601:null===(h=null===(v=e.settings)||void 0===v?void 0:v.iso8601)||void 0===h||h,range:{min:null!==(u=null===(y=e.settings)||void 0===y||null===(g=y.range)||void 0===g?void 0:g.min)&&void 0!==u?u:this.date.min,max:null!==(m=null===(M=e.settings)||void 0===M||null===(p=M.range)||void 0===p?void 0:p.max)&&void 0!==m?m:this.date.max,disabled:null!==(b=null===(w=e.settings)||void 0===w||null===(_=w.range)||void 0===_?void 0:_.disabled)&&void 0!==b?b:null},selection:{day:null!==(f=null===(T=e.settings)||void 0===T||null===(Y=T.selection)||void 0===Y?void 0:Y.day)&&void 0!==f?f:"single",month:null===(L=null===(k=e.settings)||void 0===k||null===(x=k.selection)||void 0===x?void 0:x.month)||void 0===L||L,year:null===(D=null===(E=e.settings)||void 0===E||null===(H=E.selection)||void 0===H?void 0:H.year)||void 0===D||D},selected:{dates:null!==(F=null===(N=e.settings)||void 0===N||null===(A=N.selected)||void 0===A?void 0:A.dates)&&void 0!==F?F:null,month:null!==(O=null===(S=e.settings)||void 0===S||null===(q=S.selected)||void 0===q?void 0:q.month)&&void 0!==O?O:null,year:null!==(J=null===(P=e.settings)||void 0===P||null===(j=P.selected)||void 0===j?void 0:j.year)&&void 0!==J?J:null,holidays:null!==(V=null===(W=e.settings)||void 0===W||null===(C=W.selected)||void 0===C?void 0:C.holidays)&&void 0!==V?V:null},visibility:{weekend:null===(z=null===(B=e.settings)||void 0===B||null===(G=B.visibility)||void 0===G?void 0:G.weekend)||void 0===z||z,today:null===(I=null===(K=e.settings)||void 0===K||null===(Q=K.visibility)||void 0===Q?void 0:Q.today)||void 0===I||I,disabled:null!==(R=null===(U=e.settings)||void 0===U||null===(X=U.visibility)||void 0===X?void 0:X.disabled)&&void 0!==R&&R}},this.actions={clickDay:null!==(Z=null===($=e.actions)||void 0===$?void 0:$.clickDay)&&void 0!==Z?Z:null,clickMonth:null!==(tt=null===(et=e.actions)||void 0===et?void 0:et.clickMonth)&&void 0!==tt?tt:null,clickYear:null!==(at=null===(nt=e.actions)||void 0===nt?void 0:nt.clickYear)&&void 0!==at?at:null},this.name={months:{full:{en:["January","February","March","April","May","June","July","August","September","October","November","December"],ru:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]},reduction:{en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ru:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"]}},week:{en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ru:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},arrow:{prev:{en:"Prev",ru:"Назад"},next:{en:"Next",ru:"Вперед"}}},this.currentType=this.type}var a,n,l;return a=t,(n=[{key:"setVariablesDates",value:function(){this.selectedDates=[],this.selectedMonth=this.date.today.getMonth(),this.selectedYear=this.date.today.getFullYear(),null!==this.settings.selected.dates&&(this.selectedDates=this.settings.selected.dates),null!==this.settings.selected.month&&this.settings.selected.month>=0&&this.settings.selected.month<12&&(this.selectedMonth=this.settings.selected.month),null!==this.settings.selected.year&&this.settings.selected.year>=0&&this.settings.selected.year<=9999&&(this.selectedYear=this.settings.selected.year),this.viewYear=this.selectedYear,this.dateMin=this.settings.visibility.disabled?new Date(this.date.min):new Date(this.settings.range.min),this.dateMax=this.settings.visibility.disabled?new Date(this.date.max):new Date(this.settings.range.max)}},{key:"createDOM",value:function(){var t,e;if("default"===this.currentType)this.HTMLElement.classList.add("vanilla-calendar_default"),this.HTMLElement.classList.remove("vanilla-calendar_month"),this.HTMLElement.classList.remove("vanilla-calendar_year"),this.HTMLElement.innerHTML='\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev">\n\t\t\t\t\t'.concat(null!==(t=this.name.arrow.prev[this.settings.lang])&&void 0!==t?t:this.name.arrow.prev.en,'\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content">\n\t\t\t\t\t<b class="vanilla-calendar-month').concat(this.settings.selection.month?"":" vanilla-calendar-month_disabled",'"></b>\n\t\t\t\t\t<b class="vanilla-calendar-year').concat(this.settings.selection.year?"":" vanilla-calendar-year_disabled",'"></b>\n\t\t\t\t</div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next">\n\t\t\t\t\t').concat(null!==(e=this.name.arrow.next[this.settings.lang])&&void 0!==e?e:this.name.arrow.next.en,'\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-week"></div>\n\t\t\t\t<div class="vanilla-calendar-days"></div>\n\t\t\t</div>\n\t\t');else if("month"===this.currentType){var a,n;this.HTMLElement.classList.remove("vanilla-calendar_default"),this.HTMLElement.classList.add("vanilla-calendar_month"),this.HTMLElement.classList.remove("vanilla-calendar_year"),this.HTMLElement.innerHTML='\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev"\n\t\t\t\t\tstyle="visibility: hidden">\n\t\t\t\t\t'.concat(null!==(a=this.name.arrow.prev[this.settings.lang])&&void 0!==a?a:this.name.arrow.prev.en,'\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content">\n\t\t\t\t\t<b class="vanilla-calendar-month"></b>\n\t\t\t\t\t<b class="vanilla-calendar-year vanilla-calendar-year_not-active').concat(this.settings.selection.year?"":" vanilla-calendar-year_disabled",'"></b>\n\t\t\t\t</div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next"\n\t\t\t\t\tstyle="visibility: hidden">\n\t\t\t\t\t').concat(null!==(n=this.name.arrow.next[this.settings.lang])&&void 0!==n?n:this.name.arrow.next.en,'\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-months"></div>\n\t\t\t</div>')}else if("year"===this.currentType){var l,i;this.HTMLElement.classList.remove("vanilla-calendar_default"),this.HTMLElement.classList.remove("vanilla-calendar_month"),this.HTMLElement.classList.add("vanilla-calendar_year"),this.HTMLElement.innerHTML='\n\t\t\t<div class="vanilla-calendar-header">\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_prev">\n\t\t\t\t\t'.concat(null!==(l=this.name.arrow.prev[this.settings.lang])&&void 0!==l?l:this.name.arrow.prev.en,'\n\t\t\t\t</button>\n\t\t\t\t<div class="vanilla-calendar-header__content">\n\t\t\t\t\t<b class="vanilla-calendar-month vanilla-calendar-month_not-active').concat(this.settings.selection.month?"":" vanilla-calendar-month_disabled",'"></b>\n\t\t\t\t\t<b class="vanilla-calendar-year"></b>\n\t\t\t\t</div>\n\t\t\t\t<button type="button"\n\t\t\t\t\tclass="vanilla-calendar-arrow vanilla-calendar-arrow_next">\n\t\t\t\t\t').concat(null!==(i=this.name.arrow.next[this.settings.lang])&&void 0!==i?i:this.name.arrow.next.en,'\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="vanilla-calendar-content">\n\t\t\t\t<div class="vanilla-calendar-years"></div>\n\t\t\t</div>')}}},{key:"controlArrows",value:function(){var t=this;if(["default","year"].includes(this.currentType)){var e=this.HTMLElement.querySelector(".vanilla-calendar-arrow_prev"),a=this.HTMLElement.querySelector(".vanilla-calendar-arrow_next");!function(){if("default"===t.currentType){var n=t.selectedMonth===t.dateMin.getMonth(),l=t.selectedMonth===t.dateMax.getMonth(),i=t.selectedYear===t.dateMin.getFullYear(),s=t.selectedYear===t.dateMax.getFullYear();n&&i||!t.settings.selection.month?e.style.visibility="hidden":e.style.visibility=null,l&&s||!t.settings.selection.month?a.style.visibility="hidden":a.style.visibility=null}}(),"year"===t.currentType&&(t.dateMin.getFullYear()&&t.viewYear-7<=t.dateMin.getFullYear()?e.style.visibility="hidden":e.style.visibility=null,t.dateMax.getFullYear()&&t.viewYear+7>=t.dateMax.getFullYear()?a.style.visibility="hidden":a.style.visibility=null)}}},{key:"writeYear",value:function(){this.HTMLElement.querySelector(".vanilla-calendar-year").innerText=this.selectedYear}},{key:"writeMonth",value:function(){this.HTMLElement.querySelector(".vanilla-calendar-month").innerText=this.name.months.full[this.settings.lang][this.selectedMonth]}},{key:"createWeek",value:function(){var t=this.HTMLElement.querySelector(".vanilla-calendar-week"),e=this.name.week[this.settings.lang];e.push(e.shift());for(var a=0;a<e.length;a++){var n=e[a],l=document.createElement("span");l.className="vanilla-calendar-week__day",this.settings.visibility.weekend&&this.settings.iso8601?5!==a&&6!==a||l.classList.add("vanilla-calendar-week__day_weekend"):this.settings.visibility.weekend&&!this.settings.iso8601&&(0!==a&&6!==a||l.classList.add("vanilla-calendar-week__day_weekend")),l.innerText="".concat(n),t.append(l)}}},{key:"createDays",value:function(){var t=this,e=new Date(this.selectedYear,this.selectedMonth,1),a=new Date(this.selectedYear,this.selectedMonth+1,0).getDate(),n=Number(e.getDay());this.settings.iso8601&&(n=Number((0!==e.getDay()?e.getDay():7)-1));var l=this.HTMLElement.querySelector(".vanilla-calendar-days");["single","multiple"].includes(this.settings.selection.day)&&l.classList.add("vanilla-calendar-days_selecting"),l.innerHTML="",function(){var e=new Date(t.selectedYear,t.selectedMonth,0).getDate()-n,a=t.selectedYear,i=t.selectedMonth;0===t.selectedMonth?(i=t.name.months.full[t.settings.lang].length,a=t.selectedYear-1):t.selectedMonth<10&&(i="0".concat(t.selectedMonth));for(var s=0;s<n;s++){var r=document.createElement("span");e+=1,r.className="vanilla-calendar-day vanilla-calendar-day_prev",r.innerText="".concat(e),r.dataset.calendarDay="".concat(a,"-").concat(i,"-").concat(e),l.append(r)}}(),function(){for(var e=t.selectedYear,n=t.selectedMonth<9?"0".concat(t.selectedMonth+1):t.selectedMonth+1,i=function(a){var i=document.createElement("span"),s=a<10?"0".concat(a):a,r="".concat(e,"-").concat(n,"-").concat(s),d=new Date(r).getDay();i.className="vanilla-calendar-day",i.innerText="".concat(a),i.dataset.calendarDay=r,!t.settings.visibility.weekend||0!==d&&6!==d||i.classList.add("vanilla-calendar-day_weekend"),Array.isArray(t.settings.selected.holidays)&&t.settings.selected.holidays.forEach((function(t){t===r&&i.classList.add("vanilla-calendar-day_holiday")}));var c=a===t.date.today.getDate(),o=t.selectedMonth===t.date.today.getMonth(),h=t.selectedYear===t.date.today.getFullYear();t.settings.visibility.today&&c&&o&&h&&i.classList.add("vanilla-calendar-day_today"),t.selectedDates.find((function(t){return t===r}))&&i.classList.add("vanilla-calendar-day_selected"),(t.settings.range.min>r||t.settings.range.max<r)&&i.classList.add("vanilla-calendar-day_disabled"),Array.isArray(t.settings.range.disabled)&&t.settings.range.disabled.forEach((function(t){t===r&&i.classList.add("vanilla-calendar-day_disabled")})),l.append(i)},s=1;s<=a;s++)i(s)}(),function(){var e=n+a,i=Math.ceil(e/t.name.week[t.settings.lang].length),s=t.name.week[t.settings.lang].length*i-e,r=t.selectedYear,d=t.selectedMonth+2;t.selectedMonth+1===t.name.months.full[t.settings.lang].length?(d="01",r=t.selectedYear+1):t.selectedMonth+2<10&&(d="0".concat(t.selectedMonth+2));for(var c=1;c<=s;c++){var o=document.createElement("span"),h=c<10?"0".concat(c):c;o.className="vanilla-calendar-day vanilla-calendar-day_next",o.innerText="".concat(c),o.dataset.calendarDay="".concat(r,"-").concat(d,"-").concat(h),l.append(o)}}()}},{key:"changeMonth",value:function(t){var e=this.name.months.full[this.settings.lang].length-1;t.closest(".vanilla-calendar-arrow_prev")?0!==this.selectedMonth?this.selectedMonth-=1:this.settings.selection.year&&(this.selectedYear-=1,this.selectedMonth=e):t.closest(".vanilla-calendar-arrow_next")&&(this.selectedMonth!==e?this.selectedMonth+=1:this.settings.selection.year&&(this.selectedYear+=1,this.selectedMonth=0)),this.settings.selected.month=this.selectedMonth,this.controlArrows(),this.writeYear(),this.writeMonth(),this.createDays()}},{key:"createYears",value:function(){this.currentType="year",this.createDOM(),this.controlArrows(),this.writeYear(),this.writeMonth();var t=this.HTMLElement.querySelector(".vanilla-calendar-years");this.settings.selection.year&&t.classList.add("vanilla-calendar-years_selecting");for(var e=this.viewYear-7;e<this.viewYear+8;e++){var a=e,n=document.createElement("span");n.className="vanilla-calendar-years__year",a===this.selectedYear&&n.classList.add("vanilla-calendar-years__year_selected"),a<this.dateMin.getFullYear()&&n.classList.add("vanilla-calendar-years__year_disabled"),a>this.dateMax.getFullYear()&&n.classList.add("vanilla-calendar-years__year_disabled"),n.dataset.calendarYear=a,n.innerText="".concat(a),t.append(n)}}},{key:"createMonths",value:function(){this.currentType="month",this.createDOM(),this.writeYear(),this.writeMonth();var t=this.HTMLElement.querySelector(".vanilla-calendar-months");this.settings.selection.month&&t.classList.add("vanilla-calendar-months_selecting");for(var e=this.name.months.reduction[this.settings.lang],a=0;a<e.length;a++){var n=e[a],l=document.createElement("span");l.className="vanilla-calendar-months__month",a===this.selectedMonth&&l.classList.add("vanilla-calendar-months__month_selected"),a<this.dateMin.getMonth()&&this.selectedYear===this.dateMin.getFullYear()&&l.classList.add("vanilla-calendar-months__month_disabled"),a>this.dateMax.getMonth()&&this.selectedYear===this.dateMax.getFullYear()&&l.classList.add("vanilla-calendar-months__month_disabled"),l.dataset.calendarMonth=a,l.innerText="".concat(n),t.append(l)}}},{key:"update",value:function(){this.setVariablesDates(),this.createDOM(),this.controlArrows(),this.writeYear(),this.writeMonth(),"default"===this.currentType?(this.createWeek(),this.createDays()):"month"===this.currentType?this.createMonths():"year"===this.currentType&&this.createYears()}},{key:"click",value:function(){var t=this;this.HTMLElement.addEventListener("click",(function(e){var a=e.target.closest(".vanilla-calendar-arrow"),n=e.target.closest(".vanilla-calendar-arrow_prev"),l=e.target.closest(".vanilla-calendar-arrow_next"),i=e.target.closest(".vanilla-calendar-day"),s=e.target.closest(".vanilla-calendar-day_prev"),r=e.target.closest(".vanilla-calendar-day_next"),d=e.target.closest(".vanilla-calendar-year"),c=e.target.closest(".vanilla-calendar-years__year"),o=e.target.closest(".vanilla-calendar-month"),h=e.target.closest(".vanilla-calendar-months__month");["single","multiple"].includes(t.settings.selection.day)&&i?s||r||(t.actions.clickDay&&t.actions.clickDay(e),i.classList.contains("vanilla-calendar-day_selected")?t.selectedDates.splice(t.selectedDates.indexOf(i.dataset.calendarDay),1):("single"===t.settings.selection.day&&(t.selectedDates=[]),t.selectedDates.push(i.dataset.calendarDay)),t.createDays()):a&&"year"!==t.currentType&&"month"!==t.currentType&&t.changeMonth(e.target),function(){if(t.settings.selection.year)if(a&&"year"===t.currentType)l?t.viewYear+=15:n&&(t.viewYear-=15),t.createYears();else if("year"!==t.currentType&&d)t.createYears();else if("year"===t.currentType&&d)t.currentType=t.type,t.update();else if(c){t.actions.clickYear&&t.actions.clickYear(e);var i=Number(c.dataset.calendarYear);t.currentType=t.type,t.selectedMonth<t.dateMin.getMonth()&&i===t.dateMin.getFullYear()&&(t.settings.selected.month=t.dateMin.getMonth()),t.selectedMonth>t.dateMax.getMonth()&&i===t.dateMax.getFullYear()&&(t.settings.selected.month=t.dateMax.getMonth()),t.settings.selected.year=i,t.update()}}(),function(){if(t.settings.selection.month)if("month"!==t.currentType&&o)t.createMonths();else if("month"===t.currentType&&o)t.currentType=t.type,t.update();else if(h){t.actions.clickMonth&&t.actions.clickMonth(e);var a=Number(h.dataset.calendarMonth);t.currentType=t.type,t.settings.selected.month=a,t.update()}}()}))}},{key:"init",value:function(){this.update(),this.click()}}])&&e(a.prototype,n),l&&e(a,l),Object.defineProperty(a,"prototype",{writable:!1}),t}();window.VanillaCalendar=a})();